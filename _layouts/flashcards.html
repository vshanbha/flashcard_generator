---
layout: page
---
<!DOCTYPE html>
<html>
<head>
  <title>{{ page.title }}</title>
  <style>
    .card { width: 100%; height: 400px; perspective: 1000px; cursor: pointer; }
    .card-inner { width: 100%; height: 100%; transition: transform 0.5s; transform-style: preserve-3d; }
    .card.flipped .card-inner { transform: rotateY(180deg); }
    .card-front, .card-back {
      position: absolute; width: 100%; height: 100%;
      backface-visibility: hidden; display: flex;
      flex-direction: column;
      align-items: center; justify-content: center;
      font-size: 20px; border: 1px solid #ccc; border-radius: 12px;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
      padding: 10px;
    }
    .card-back { transform: rotateY(180deg); background-color: #f8f8f8; }
    .tabs { display: flex; cursor: pointer; margin-bottom: 10px; }
    .tab { padding: 10px 20px; border: 1px solid #ccc; border-bottom: none; }
    .tab.active { background-color: #f8f8f8; }
  </style>
  <script>
    {% assign page_topic = page.topic %}
    let topics = [];
    {% for topic_file in site.data.topics[page_topic] %}
      topics.push({{ topic_file | jsonify }});
    {% endfor %}
  </script>
  <script>
    console.log(topics); // Data from JSON will load here.    
    let categories = topics[2][1];
    let current_index = 0;
    let current_category_value = '';

    function getCategoryIndexByValue(value) {
      return categories.findIndex(category => category.value === value);
    }

    function renderCard(index) {
      const category_index = getCategoryIndexByValue(current_category_value);
      if (category_index === -1) {
        console.error('Category not found');
        return;
      }
      const category = categories[category_index];
      const card = category.cards[index];
      document.getElementById('flashcard-container').innerHTML = `
        <div class="card" onclick="this.classList.toggle('flipped')">
          <div class="card-inner">
            <div class="card-front">${card.title}</div>
            <div class="card-back">
              <p><strong>Description:</strong> ${card.description}</p>
              <p><strong>Examples:</strong> ${card.examples?.join('<br>') || 'N/A'}</p>
            </div>
          </div>
        </div>`;
    }

    function renderTabs() {
      const tabsContainer = document.getElementById('tabs-container');
      tabsContainer.innerHTML = '';
      categories.forEach(category => {
        const tab = document.createElement('div');
        tab.className = 'tab';
        tab.innerText = category.value;
        tab.onclick = () => {
          current_category_value = category.value;
          document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          current_index = 0;
          renderCard(current_index);
        };
        tabsContainer.appendChild(tab);
      });
      // Activate the first tab by default
      if (tabsContainer.firstChild) {
        tabsContainer.firstChild.click();
      }
    }

    window.onload = () => {
      renderTabs();
    };
  </script>
</head>
<body>
  <div id="tabs-container" class="tabs"></div>
  <div id="flashcard-container"></div>
  <div style="margin-top: 20px; text-align: center;">
    <button style="width: 120px;" onclick="prevCard()">Previous</button>
    <button style="width: 120px;" onclick="nextCard()">Next</button>
  </div>
  <script>
    function nextCard() {
      current_index = (current_index + 1) % categories[getCategoryIndexByValue(current_category_value)].cards.length;
      renderCard(current_index);
    }
    function prevCard() {
      if (current_index > 0) {
        current_index--;
        renderCard(current_index);
      }
    }
  </script>
</body>
</html>